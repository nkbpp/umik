<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<body>

<div th:fragment="form">

    <!--D-->

    <table class="table table-secondary table-striped table-hover table-bordered table-sm
                align-middle text-center" id="Dot">
        <caption class="caption-top">D</caption>
        <thead>
        <tr>
            <th class="col-md-6">Наименование конверта D</th>
            <th class="col-md-2">Не распределено</th>
            <th class="col-md-2">Распределить</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="o, iter : ${otchmarkandkonvD}" th:name="'ot-' + ${o.id}">
            <td th:text="'Реестр 1 ' + ${o.prihod.getFullName()}"></td>
            <td class='table-active raspr'
                th:if="${iter.count==1}"
                th:rowspan="${otchmarkandkonvD.size() + prihods3.size()}"
                th:name="${k}"
                th:text="${k}"></td>
            <td class="text-end">
                <input  class="form-control"
                        type="number"
                        value="0"
                        th:id="'ot-input-'+${o.id}"
                        name="reestr1"
                        min="0" th:max="${o.ostatok}" step="1" data-bind="value:replyNumber"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57 && /^\d*$/.test(this.value));"
                />
                <label class="form-label m-0 p-0"
                       th:for="'ot-input-'+${o.id}">
                    Осталось:
                    <a class="link-dark link-ostatok" href="#!" th:text="' ' + ${o.ostatok}"></a>
                </label>
            </td>
        </tr>
        <!--Приход-->
        <tr  th:each="p, iter : ${prihods3}" th:name="'p-' + ${p.id}">
            <td th:text="'Реестр 1 ' + ${p.getFullName()}"></td>
            <td class="text-end">
                <input  class="form-control"
                        type="number"
                        value="0"
                        th:id="'p-input-'+${p.id}"
                        name="reestr1"
                        min="0" th:max="${p.kol_vo}" step="1" data-bind="value:replyNumber"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57 && /^\d*$/.test(this.value));"
                />
                <label class="form-label m-0 p-0"
                       th:for="'p-input-'+${p.id}">
                    Осталось:
                    <a class="link-dark link-ostatok" href="#!" th:text="' ' + ${p.kol_vo}"></a>
                </label>
            </td>
        </tr>
        </tbody>
    </table>

    <!--110x220-->

    <table class="table table-secondary table-striped table-hover table-bordered table-sm
                align-middle text-center" id="110x220ot">
        <caption class="caption-top">110x220</caption>
        <thead>
        <tr>
            <th class="col-md-6">Наименование конверта</th>
            <th class="col-md-2">Не распределено</th>
            <th class="col-md-2">Распределить</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="o, iter : ${otchmarkandkonv110x120}" th:name="'ot-' + ${o.id}">
            <td th:text="'Реестр 1 ' + ${o.prihod.getFullName()}"></td>
            <td class='table-active raspr'
                th:if="${iter.count==1}"
                th:rowspan="${otchmarkandkonv110x120.size() + prihods5.size()}"
                th:name="${reestr1i.id_konv5}"
                th:text="${reestr1i.id_konv5}"></td>
            <td class="text-end">
                <input  class="form-control"
                        type="number"
                        value="0"
                        th:id="'ot-input-'+${o.id}"
                        name="reestr1"
                        min="0" th:max="${o.ostatok}" step="1" data-bind="value:replyNumber"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57 && /^\d*$/.test(this.value));"
                />
                <label class="form-label m-0 p-0"
                       th:for="'ot-input-'+${o.id}">
                    Осталось:
                    <a class="link-dark link-ostatok" href="#!" th:text="' ' + ${o.ostatok}"></a>
                </label>
            </td>
        </tr>
        <!--Приход-->
        <tr  th:each="p, iter : ${prihods5}" th:name="'p-' + ${p.id}">
            <td th:text="'Реестр 1 ' + ${p.getFullName()}"></td>
            <td class="text-end">
                <input  class="form-control"
                        type="number"
                        value="0"
                        th:id="'p-input-'+${p.id}"
                        name="reestr1"
                        min="0" th:max="${p.kol_vo}" step="1" data-bind="value:replyNumber"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57 && /^\d*$/.test(this.value));"
                />
                <label class="form-label m-0 p-0"
                       th:for="'p-input-'+${p.id}">
                    Осталось:
                    <a class="link-dark link-ostatok" href="#!" th:text="' ' + ${p.kol_vo}"></a>
                </label>
            </td>
        </tr>
        </tbody>
    </table>

    <!--Марки-->

    <table class="table table-secondary table-striped table-hover table-bordered table-sm
                align-middle text-center" id="markot">
        <caption class="caption-top">Марки</caption>
        <thead>
        <tr>
            <th class="col-md-4">Наименование</th>
            <th class="col-md-2">Доп. инфо.</th>
            <th class="col-md-2">Не распределено</th>
            <th class="col-md-2">Распределить</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td th:text="'Реестр 1'"></td>
            <td th:rowspan="2"
                th:utext="'Остаток ' + ${ostat} + '<br> Приход ' + ${prihodm}"></td>
            <td class='table-active raspr'
                th:rowspan="2"
                th:name="${ob}"
                th:text="${ob}"></td>
            <td class="text-end">
                <input  class="form-control marki"
                        type="number"
                        th:value="${r1}"
                        id="reestr1m"
                        min="0" step="1" data-bind="value:replyNumber"

                        onkeypress="return ((event.charCode != 45 && event.charCode != 44 && event.charCode != 101) && /^\d*\.{0,1}\d*$/.test(this.value));"
                />
<!--                <label class="form-label m-0 p-0"
                       th:for="'ot-input-'+${o.id}">
                    Осталось:
                    <a class="link-dark link-ostatok" href="#!" th:text="' ' + ${o.ostatok}"></a>
                </label>-->
            </td>
        </tr>
        <!--Реестр заказных писем-->
        <tr>
            <td th:text="'Реестр заказных писем'"></td>
            <td class="text-end">
                <input  class="form-control marki"
                        type="number"
                        th:value="${r2}"
                        id="reestr2m"
                        step="1" data-bind="value:replyNumber"
                        min="0"
                        onkeypress="return ((event.charCode != 45 && event.charCode != 44 && event.charCode != 101) && /^\d*\.{0,1}\d*$/.test(this.value));"
                />
<!--                <label class="form-label m-0 p-0"
                       th:for="'p-input-'+${p.id}">
                    Осталось:
                    <a class="link-dark link-ostatok" href="#!" th:text="' ' + ${p.kol_vo}"></a>
                </label>-->
            </td>
        </tr>
        </tbody>
    </table>


    <div class="row">
        <div class="col-12">
            <div class="row">
                <!--D-->
                <!--<div class="col-12" id="Dot">
                    <div class="row">
                        <div class="col s12" th:text="'D ' + ${k}"></div>
                    </div>
                    <div class="row" th:each="o : ${otchmarkandkonvD}" th:name="'ot-' + ${o.id}">
                        &lt;!&ndash;${o.prihod.spravkonv.id=1}&ndash;&gt;
                        <div class="col s12 row">
                            <div class="col s3" th:text="'Реестр 1 ' + ${o.prihod.getFullName()}">
                            </div>
                            <div class="col s1" th:text="${o.ostatok}">
                            </div>
                            <div class="col s3">
                                <input  class="form-control"
                                        type="number"
                                        id="kol_vo"
                                        name="reestr1" th:value="${k}"
                                        min="0" step="1" data-bind="value:replyNumber"
                                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57 && /^\d*$/.test(this.value));"
                                />
                                &lt;!&ndash;<input type="text" value="0" name="reestr1" th:value="${k}">&ndash;&gt;
                            </div>
                        </div>
                    </div>
                    &lt;!&ndash;Приход&ndash;&gt;
                    <div class="row" th:each="p : ${prihods3}" th:name="'p-' + ${p.id}">
                        &lt;!&ndash;${o.prihod.spravkonv.id=1}&ndash;&gt;
                        <div class="col s12 row">
                            <div class="col s3" th:text="'Реестр 1 ' + ${p.getFullName()}">
                            </div>
                            <div class="col s1" th:text="${p.kol_vo}">
                            </div>
                            <div class="col s3">
                                <input type="text" value="0" name="reestr1" th:value="${k}">
                            </div>
                        </div>
                    </div>
                </div>-->

                <!--110x220-->
                <!--<div class="col s12" id="110x220ot">
                    <div class="row">
                        <div class="col s12" th:text="'110x220'"></div>
                    </div>
                    <div class="row" th:each="o : ${otchmarkandkonv110x120}" th:name="'ot-' + ${o.id}">
                        <div class="col s12 row">
                            <div class="col s3" th:text="'Реестр 1 ' + ${o.prihod.getFullName()}">
                            </div>
                            <div class="col s1" th:text="${o.ostatok}">
                            </div>
                            <div class="col s3">
                                <input type="text" value="0" name="reestr1" th:value="${reestr1i.id_konv5}">
                            </div>
                        </div>
                    </div>
                    &lt;!&ndash;Приход&ndash;&gt;
                    <div class="row" th:each="p : ${prihods5}" th:name="'p-' + ${p.id}">
                        <div class="col s12 row">
                            <div class="col s3" th:text="'Реестр 1 ' + ${p.getFullName()}">
                            </div>
                            <div class="col s1" th:text="${p.kol_vo}">
                            </div>
                            <div class="col s3">
                                <input type="text" value="0" name="reestr1" th:value="${reestr1i.id_konv5}">
                            </div>
                        </div>
                    </div>
                </div>-->

                <!--Марки-->
                <!--                <div class="col s12" id="markot">
                    <div class="row">
                        <div class="col s3" th:text="'Марки'"></div>
                        <div class="col s3" id="ostat" th:value="${ostat}" th:text="'Остаток ' + ${ostat}"></div>
                        <div class="col s3" id="prihodm" th:value="${prihodm}" th:text="'Приход ' + ${prihodm}"></div>
                    </div>
                    <div class="row">
                        <div class="col s12 row">
                            <div class="col s3" th:text="'Реестр 1'">
                            </div>
                            <div class="col s3">
                                <input type="text" th:value="${r1}" id="reestr1m">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 row">
                            <div class="col s3" th:text="'Реестр заказных писем'">
                            </div>
                            <div class="col s3">
                                <input type="text" th:value="${r2}" id="reestr2m">
                            </div>
                        </div>
                    </div>
                </div>-->

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s12">
            <a class="btn btn-dark" id="vvod">Добавить</a>
        </div>
    </div>
</div>

<div th:fragment="link">
    <a class="link-dark" id="docx" th:href="@{/umik/main/otchmarkandkonv/pechatdocx(date1=${date1},date2=${date2})}" download>
        Скачать в формате Docx
    </a>
</div>

</body>
</html>